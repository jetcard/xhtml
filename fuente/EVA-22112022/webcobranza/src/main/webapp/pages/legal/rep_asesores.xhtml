<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="es" 
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:f="http://java.sun.com/jsf/core" >

    <f:metadata>
        <f:viewParam name="cinversion" value="#{legalBean.maeInversion.CInversion}"/>
        <f:event type="postAddToView" listener="#{legalBean.listarFondos()}"  />
        <f:event type="postAddToView" listener="#{legalBean.listarEstadoTchn()}"  />
        <f:event type="preRenderView" listener="#{legalBean.iniciarFecha()}" />
    </f:metadata>

 
 
    <ui:composition template="/resources/personal/plantillas/template.xhtml">
        <ui:define name="content">
            <!-- Paginacion header -->
               <div class="row wrapper border-bottom white-bg page-heading">


                <div class="col-lg-10">
                    <h2>Clientes</h2>
                    <ol class="breadcrumb">
                        <li>
                            <a href="index.xhtml">Inicio</a>
                        </li>
                        <li>
                            <a>Legal</a>
                        </li>
                        <li class="active">
                            <strong>Consulta de Demanda</strong>
                        </li>
                    </ol>
                </div>
            </div>
             
            <!-- Filas-->
             
            <div class="wrapper wrapper-content animated fadeInRight">
                   <form jsf:id="formAsesor" enctype="multipart/form-data" jsf:prependId="false" >
                    <!-- Filtros-->
                    <div class="row">
                        <!-- Filtros-->
                        <div class="col-lg-12">
                            <div class="ibox">
                                <div class="ibox-title">
                                    <h5>
                                        Filtros
                                        <small>Buscar de Demanda</small>
                                    </h5>
                                </div>
                                <div class="ibox-content">
                                    <!-- Fila 01 Filtros --> 
                                    <div class="row">
                                        
                                        <div class="col-sm-2"></div>
                                         <div class="col-sm-2">
                                            <div class="form-group">
                                                <label class="font-noraml">Fondo:</label>
                                                <div class="input-group">
                                                    <h:selectOneMenu value="#{legalBean.maeFondo.CFondoId}" class="form-control m-b">
                                                        <f:selectItem itemLabel="Todos" noSelectionOption="true" />
                                                        <f:selectItems value="#{legalBean.maeFondoList}" var="fondo" itemValue="#{fondo.CFondoId}"  itemLabel="#{fondo.DFondo}" />
                                                    </h:selectOneMenu>	
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-2"></div>
                                        <div class="col-sm-2">
                                            <div class="form-group">
                                                  <label class="font-noraml">Etapas:</label>
                                                <div class="input-group">
                                                    <h:selectOneMenu value="#{legalBean.legTchn.idetapa}" class="form-control m-b">
                                                                    <f:selectItem itemLabel="Todos" noSelectionOption="true" />
                                                                    <f:selectItems value="#{legalBean.maeEtapaLegalList}" var="etapaEG" itemValue="#{etapaEG.codigo}"  itemLabel="#{etapaEG.estado}" />
                                                    </h:selectOneMenu>	
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-1">
                                            <span class="input-group-btn">
                                                <a jsf:id="linkBuscar" jsf:actionListener="#{legalBean.buscarTchnLegalAses()}" class="btn btn-primary btn-block m-t"   >
                                                    <i class="fa fa-search"></i>
                                                    Buscar
                                                </a>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
             

                    <div class="row">
                        <div class="col-lg-12">
                            <div class="ibox float-e-margins">
                                <div class="ibox-title">
                                    <h5>Lista de demanda por asesores</h5>
                                </div>
                                <div jsf:id="detDeposito" class="ibox-content">
                                    <div class="table-responsive">
                                        <table  class="table table-striped table-bordered table-hover dataTables-clien">
                                             <thead>
                                                        <tr>
                                                            <th>Fondo </th>
                                                            <th>CÃ³digo</th>
                                                            <th>Etapa</th>
                                                            <th>Dias Transaccion</th>
                                                            <th>Indicador</th>
                                                            <th>Fecha Registro</th>
                                                            <th>Fecha Ult Movimiento</th>
                                                            <th>Asesor</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>

                                                    <ui:repeat var="tchn" value="#{legalBean.legalTchnList}" varStatus="tchnS">
                                                        
                                                        <tr height="10" >
                                                            <th>#{tchn.fondo.DFondo}</th> 
                                                            <th>#{tchn.maeInversion.CInversion}</th>
                                                            <th>#{tchn.etapa}</th>
                                                            <th>#{tchn.lnDiastra}</th>  
                                                            <th>#{tchn.lsIndicador}</th> 
                                                            <th>#{tchn.ldFechaTasa} </th>   
                                                            <th>#{tchn.ldFecha} </th>                                                                 
                                                            <th>#{tchn.lsusuario} </th>                                                                                                                             
                                                        </tr>
                                                       
                                                    </ui:repeat> 
                                                    
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    
                </form>
 
             
                                   
                    
                </div> 
               

 

            <!-- JS -->
            <!-- Mainly scripts -->
            <script src="../../resources/template/js/jquery-2.1.1.js"></script>
            <script src="../../resources/template/js/bootstrap.min.js"></script>

            <!-- Custom and plugin javascript -->
            <script src="../../resources/template/js/inspinia.js"></script>
            <script src="../../resources/template/js/plugins/pace/pace.min.js"></script>
            <script src="../../resources/template/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>


            <!-- Data picker -->
            <script src="../../resources/template/js/plugins/datapicker/bootstrap-datepicker.js"></script>

            <!-- MENU -->
            <script src="../../resources/template/js/plugins/metisMenu/jquery.metisMenu.js"></script>

            <!-- Date range use moment.js same as full calendar plugin -->
            <script src="../../resources/template/js/plugins/fullcalendar/moment.min.js"></script>

            <!-- Date range picker -->
            <script src="../../resources/template/js/plugins/daterangepicker/daterangepicker.js"></script>

            <!-- grafico personal -->
            <script src="../../resources/personal/js/table.js"></script> 

            <!--- tabla -->
            <script src="../../resources/template/js/plugins/jeditable/jquery.jeditable.js"></script>
            <script src="../../resources/template/js/plugins/dataTables/datatables.min.js"></script>

            <link href="../../resources/template/css/plugins/dataTables/datatables.min.css" rel="stylesheet"/>
            
            <!-- FooTable -->
            <script src="../../resources/template/js/plugins/footable/footable.all.min.js"></script>
            <link href="../../resources/template/css/plugins/footable/footable.core.css" rel="stylesheet"/>

            <!-- Input Mask-->
            <script src="../../resources/template/js/plugins/jasny/jasny-bootstrap.min.js"></script>
            <link href="../../resources/template/css/plugins/jasny/jasny-bootstrap.min.css" rel="stylesheet"/>

            <!-- Toastr script -->
            <script src="../../resources/template/js/plugins/toastr/toastr.min.js"></script>
            <!-- Toastr style -->
            <link href="../../resources/template/css/plugins/toastr/toastr.min.css" rel="stylesheet"/>


            <!--- Css datapicker -->
            <link href="../../resources/template/css/plugins/datapicker/datepicker3.css" rel="stylesheet"/>
            <link href="../../resources/template/css/plugins/daterangepicker/daterangepicker-bs3.css" rel="stylesheet"/>
            <link href="../../resources/template/css/plugins/clockpicker/clockpicker.css" rel="stylesheet"/>

            <h:outputScript library="javax.faces" name="jsf.js"/>

            <script >
                                                    $('#divRangoFecha .input-daterange').datepicker({
                                                        keyboardNavigation: false,
                                                        forceParse: false,
                                                        autoclose: true,
                                                        format: 'dd/mm/yyyy',
                                                        language: 'es',
                                                        todayBtn: "linked"
                                                    });
                                                    $('#data_1 .input-group.date').datepicker({
                                                        timePicker: true,
                                                        timePickerIncrement: 30,
                                                        startDate: '01/01/2008',
                                                        endDate: '01/01/2025',
                                                        format: 'dd/mm/yyyy',
                                                        language: 'es',
                                                        todayBtn: "linked",
                                                        autoclose: true
                                                    });
            </script>

              <script type="text/javascript"> 
            function ocultar(){
               
              }

          function ocultar2(){
              document.getElementById('formLegal').style.display = 'none';
              document.getElementById('formLegalEt2').style.display = 'none';
            }
            function ocultarsegui(){
              document.getElementById('frmSeguiNew').style.display = 'none';
              document.getElementById('frmSegui').style.display = 'none';
            }
             var total=0;    
            function mostrar(et,et1){
                alert(et);
               total=0;  
               document.getElementById('spTotal').innerHTML =total;
              
               document.getElementById('formLegal').style.display = 'block';
               document.getElementById("formLegal").reset();
                if (et="Cobranza") {
                   document.getElementById("et2").style.display = "block";
                   document.getElementById("et1").style.display = "none"; 
               } else {
                   document.getElementById("et2").style.display = "none";
                   document.getElementById("et1").style.display = "block";
               }
               
           }
           
            function mostrar2(){
               document.getElementById('frameregistro2').style.display = 'block';
               document.getElementById('frmSegui').style.display = 'block';
           }
           
        
           function sumar(v1){
               
                total+= parseFloat(v1);
                document.getElementById('spTotal').innerHTML =total;
                document.getElementById("formLegal")
             }   

            
            
            </script> 
            <script type="text/javascript">
                  function habilita(){
                    document.getElementById('bt1').style.display ="block"
                 } 
                  function habilitaSeg(){
                    document.getElementById('btnse1').style.display ="block"
                 } 
                function anular(e) {
                    tecla = (document.all) ? e.keyCode : e.which;
                    return (tecla != 13);
               }  
                
            </script> 
             
        </ui:define>

    </ui:composition> 

</html>